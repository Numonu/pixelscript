---
import Category from "./Category.astro";
import { Names } from "./Tag.astro";
---

<script>
    const wallpapers = Array.from(
        document.querySelectorAll(".wallpaper")
    ) as HTMLElement[];
    const filter = document.querySelector("#filter");

    filter?.addEventListener("click", (e) => {
        const target = e.target as HTMLElement;
        if (target && target !== filter) {
            let select: string;
            if (target.textContent)
                select = target.textContent.trim().toLowerCase();
            else select = "all";

            wallpapers.forEach((wallpaper) => {
                const tags = wallpaper.dataset.tags?.split(",");
                if (select === "all" || (tags && tags.includes(select))) {
                    wallpaper.style.display = "block";
                } else {
                    wallpaper.style.display = "none";
                }
            });
        }
    });
</script>
<div id="filter" class="flex flex-wrap gap-4">
    <Category content="all" />
    <Category content={Names.HTML} />
    <Category content={Names.CSS} />
    <Category content={Names.JS} />
    <Category content={Names.TYPESCRIPT} />
    <Category content={Names.REACT} />
    <Category content={Names.SVELTE} />
    <Category content={Names.VUE} />
    <Category content={Names.NODE} />
    <Category content={Names.TOOL} />
</div>
